# Redux-Query

Redux query creates a redux store for api calls, allowing you to use hooks to get api data

Sample result hook:
```
const { isLoading, data, error } = useGetPokemonByNameQuery(name);
```

Pros: 
- Clean way to centralize api calls in a redux app
- Keeps same standard for al api calls

Cons
- Extra boilerplate code
- Still need to dispatch actions in order to update state of other stores


Sample Setup code:
```
import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react'

//types could be f
export type PokemonVM = {
	abilities: {
		ability: {
			name: string;
			url: string;
		}
	}[];
	sprites: {
		front_default: string;
	}
}

// Define a service using a base URL and expected endpoints
export const pokemonApi = createApi({
	reducerPath: 'pokemonApi',
	baseQuery: fetchBaseQuery({ baseUrl: 'https://pokeapi.co/api/v2/' }),
	endpoints: (builder) => ({
		getPokemonByName: builder.query<PokemonVM, string>({
			query: (name) => `pokemon/${name}`,
		}),
	}),
});

// Export hooks for usage in functional components, which are
// auto-generated based on the defined endpoints
export const { useGetPokemonByNameQuery } = pokemonApi;
```


Usage in component:
```
import React, { useEffect } from "react";
import { useGetPokemonByNameQuery } from "./pokemon.api";
import { useAppDispatch } from "../../app/hooks";
import { getCurrentPokemon, setCurrentPokemon } from "./pokemon.slice";
import { useSelector } from "react-redux";

export const Pokemon: React.FC = () => {
	const name = "charizard";
	//using autogenerated hook
	const { isLoading, data, error } = useGetPokemonByNameQuery(name);
	const dispatch = useAppDispatch();
	const pokemon = useSelector(getCurrentPokemon);
	
	useEffect(() => {
		if (data != null) {
			dispatch(setCurrentPokemon(data));
		}
	}, [data]);
	
	return <>
		{isLoading && !data && <p>Loading...</p>}
		{data && <div>
			<h3>{name}</h3>
			<img src={pokemon?.sprites.front_default} />
			<br />
			<strong>Abilities: </strong>
			<br />
			<ul>
				{pokemon?.abilities.map(a => <li>{a.ability.name}</li>)}
			</ul>
		</div>}
	</>;
}
```




Zustand
Minimalist stage management tool
https://medium.com/@breakingbadjs/zustand-vs-redux-a-comprehensive-comparison-in-state-management-687a86156b14

